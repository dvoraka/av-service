description = 'Module for runners'

dependencies {
    compile project(':common')
    compile project(':server')
}

task configureEnvironment(type: JavaExec) {
    description = 'Configure environment'
    group = "${taskGroupName}"

    main = 'dvoraka.avservice.runner.EnvironmentConfigurator'
    classpath = sourceSets.main.runtimeClasspath
}

task runAmqpReplicationService(type: JavaExec) {
    description = 'Run AMQP replication service'
    group = "${taskGroupName}"

    minHeapSize = '256m'
    maxHeapSize = '256m'

    main = 'dvoraka.avservice.runner.server.amqp.AmqpReplicationServiceRunner'
    standardInput = System.in
    classpath = sourceSets.main.runtimeClasspath
}
